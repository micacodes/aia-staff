{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nvar _jsxFileName = \"/home/micah/Documents/aia-staff-osen-main/screens/products/MenuPage.tsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { api } from \"../../utils/api\";\nimport HTMLView from \"react-native-htmlview\";\nimport { AuthContext } from \"../../providers/AuthProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MenuPage(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    categories = _useState2[0],\n    setCategories = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    products = _useState4[0],\n    setProducts = _useState4[1];\n  var _useContext = useContext(AuthContext),\n    session = _useContext.session;\n  useEffect(function () {\n    var _session$vendor;\n    api.get(\"product-categories\", {\n      vendor: (_session$vendor = session.vendor) == null ? void 0 : _session$vendor.id\n    }).then(function (_ref2) {\n      var data = _ref2.data;\n      setCategories(data);\n    });\n    api.get(\"products\").then(function (_ref3) {\n      var data = _ref3.data;\n      setProducts(data);\n    });\n  }, []);\n  return _jsxDEV(_StyledComponent, {\n    data: categories,\n    keyExtractor: function keyExtractor(item) {\n      return `category-${item.id}`;\n    },\n    renderItem: function renderItem(_ref4) {\n      var cat = _ref4.item;\n      return _jsxDEV(_StyledComponent, {\n        className: \"px-2\",\n        component: View,\n        children: [_jsxDEV(_StyledComponent, {\n          className: \"text-left text-lg font-bold my-1\",\n          component: Text,\n          children: cat.name\n        }, void 0, false, void 0, _this), _jsxDEV(FlatList, {\n          data: products.filter(function (p) {\n            return p.productCategoryId === cat.id;\n          }),\n          renderItem: function renderItem(_ref5) {\n            var product = _ref5.item;\n            return _jsxDEV(_StyledComponent, {\n              onPress: function onPress() {\n                return navigation.navigate(\"ProductDetails\", {\n                  productId: product.id\n                });\n              },\n              className: \"flex-1 border border-primary-500 mb-3 px-2 py-2 rounded-lg\",\n              component: TouchableOpacity,\n              children: [_jsxDEV(_StyledComponent, {\n                className: \"\",\n                component: View,\n                children: _jsxDEV(_StyledComponent, {\n                  className: \"text-base font-bold\",\n                  component: Text,\n                  children: product.name\n                }, void 0, false, void 0, _this)\n              }, void 0, false, void 0, _this), _jsxDEV(_StyledComponent, {\n                className: \"text-truncate flex items-center\",\n                component: Text,\n                children: [_jsxDEV(HTMLView, {\n                  value: product.details.slice(0, 25),\n                  stylesheet: StyleSheet.create({\n                    p: {\n                      fontWeight: \"300\",\n                      fontSize: 12\n                    }\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 10\n                }, _this), _jsxDEV(Text, {\n                  children: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 10\n                }, _this)]\n              }, void 0, true, void 0, _this), _jsxDEV(_StyledComponent, {\n                className: \"flex flex-row justify-between items-center\",\n                component: View,\n                children: _jsxDEV(_StyledComponent, {\n                  className: \"font-bold\",\n                  component: Text,\n                  children: [\"KES \", product.price, \"/\", product.unit]\n                }, void 0, true, void 0, _this)\n              }, void 0, false, void 0, _this)]\n            }, void 0, true, void 0, _this);\n          },\n          numColumns: 2,\n          contentContainerStyle: {\n            gap: 5\n          },\n          columnWrapperStyle: {\n            gap: 5\n          }\n        }, 2, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 6\n        }, _this)]\n      }, `category-${cat.id}`, true, void 0, _this);\n    },\n    className: \"bg-white\",\n    component: FlatList\n  }, void 0, false, void 0, this);\n}\n_NativeWindStyleSheet.create({\n  styles: {\n    \"my-1\": {\n      \"marginTop\": 4,\n      \"marginBottom\": 4\n    },\n    \"mb-3\": {\n      \"marginBottom\": 12\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"border\": {\n      \"borderTopWidth\": 1,\n      \"borderRightWidth\": 1,\n      \"borderBottomWidth\": 1,\n      \"borderLeftWidth\": 1\n    },\n    \"border-primary-500\": {\n      \"borderTopColor\": \"#83B4AA\",\n      \"borderRightColor\": \"#83B4AA\",\n      \"borderBottomColor\": \"#83B4AA\",\n      \"borderLeftColor\": \"#83B4AA\"\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    },\n    \"px-2\": {\n      \"paddingLeft\": 8,\n      \"paddingRight\": 8\n    },\n    \"py-2\": {\n      \"paddingTop\": 8,\n      \"paddingBottom\": 8\n    },\n    \"text-left\": {\n      \"textAlign\": \"left\"\n    },\n    \"font-bold\": {\n      \"fontWeight\": \"700\"\n    },\n    \"text-base\": {\n      \"fontSize\": 16,\n      \"lineHeight\": 24\n    },\n    \"text-lg\": {\n      \"fontSize\": 18,\n      \"lineHeight\": 28\n    }\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","StyleSheet","TouchableOpacity","FlatList","Text","View","api","HTMLView","AuthContext","jsxDEV","_jsxDEV","MenuPage","_ref","_this","navigation","_useState","_useState2","_slicedToArray","categories","setCategories","_useState3","_useState4","products","setProducts","_useContext","session","_session$vendor","get","vendor","id","then","_ref2","data","_ref3","_StyledComponent","keyExtractor","item","renderItem","_ref4","cat","className","component","children","name","filter","p","productCategoryId","_ref5","product","onPress","navigate","productId","value","details","slice","stylesheet","create","fontWeight","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","price","unit","numColumns","contentContainerStyle","gap","columnWrapperStyle","_NativeWindStyleSheet","styles"],"sources":["/home/micah/Documents/aia-staff-osen-main/screens/products/MenuPage.tsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { StyleSheet, TouchableOpacity } from \"react-native\";\nimport { FlatList, Text, View } from \"react-native\";\nimport { api } from \"../../utils/api\";\nimport HTMLView from \"react-native-htmlview\";\nimport { AuthContext } from \"../../providers/AuthProvider\";\n\nexport default function MenuPage({ navigation }) {\n\tconst [categories, setCategories] = useState<ProductCategory[]>([]);\n\tconst [products, setProducts] = useState<Product[]>([]);\n\n\tconst { session } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tapi.get<PaginatedData<ProductCategory>>(\"product-categories\", {\n\t\t\tvendor: session.vendor?.id,\n\t\t\t// branch: session.branch?.id,\n\t\t}).then(({ data }) => {\n\t\t\tsetCategories(data);\n\t\t});\n\n\t\tapi.get<PaginatedData<Product>>(\"products\").then(({ data }) => {\n\t\t\tsetProducts(data);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<FlatList\n\t\t\tdata={categories}\n\t\t\tkeyExtractor={item => `category-${item.id}`}\n\t\t\trenderItem={({ item: cat }) => (\n\t\t\t\t<View key={`category-${cat.id}`} className=\"px-2\">\n\t\t\t\t\t<Text className=\"text-left text-lg font-bold my-1\">\n\t\t\t\t\t\t{cat.name}\n\t\t\t\t\t</Text>\n\n\t\t\t\t\t<FlatList\n\t\t\t\t\t\tdata={products.filter(\n\t\t\t\t\t\t\tp => p.productCategoryId === cat.id\n\t\t\t\t\t\t)}\n\t\t\t\t\t\trenderItem={({ item: product }) => (\n\t\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\tnavigation.navigate(\"ProductDetails\", {\n\t\t\t\t\t\t\t\t\t\tproductId: product.id,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"flex-1 border border-primary-500 mb-3 px-2 py-2 rounded-lg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<View className=\"\">\n\t\t\t\t\t\t\t\t\t<Text className=\"text-base font-bold\">\n\t\t\t\t\t\t\t\t\t\t{product.name}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</View>\n\n\t\t\t\t\t\t\t\t<Text className=\"text-truncate flex items-center\">\n\t\t\t\t\t\t\t\t\t<HTMLView\n\t\t\t\t\t\t\t\t\t\tvalue={product.details.slice(0, 25)}\n\t\t\t\t\t\t\t\t\t\tstylesheet={StyleSheet.create({\n\t\t\t\t\t\t\t\t\t\t\tp: {\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"300\",\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Text>...</Text>\n\t\t\t\t\t\t\t\t</Text>\n\n\t\t\t\t\t\t\t\t<View className=\"flex flex-row justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<Text className=\"font-bold\">\n\t\t\t\t\t\t\t\t\t\tKES {product.price}/{product.unit}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tnumColumns={2}\n\t\t\t\t\t\tkey={2}\n\t\t\t\t\t\tcontentContainerStyle={{ gap: 5 }}\n\t\t\t\t\t\tcolumnWrapperStyle={{ gap: 5 }}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t)}\n\t\t\tclassName=\"bg-white\"\n\t\t/>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}